{% extends "base.html" %}
{% block content %}
<div class="flex min-h-screen">
    <aside class="w-72 bg-slate-900 text-white flex flex-col fixed h-full">
        </aside>

    <main class="flex-1 p-10 ml-72">
        <h2 class="text-3xl font-bold mb-8 text-slate-800"><i class="fas fa-vial mr-3 text-red-600"></i> Available MCQ Tests</h2>

        <div class="grid gap-6">
            {% if tests %}
                {% for test in tests %}
                <div class="bg-white rounded-2xl shadow-lg p-8 border-l-8 border-red-500 flex justify-between items-center transform hover:scale-[1.01] transition">
                    <div>
                        <h3 class="text-2xl font-bold text-slate-800">{{ test.title }}</h3>
                        <p class="text-slate-500 mt-1">{{ test.subject }} | <i class="far fa-clock mr-1"></i> {{ test.duration }} Mins</p>
                    </div>
                    
                    <div>
                        {% if test.id in attempted_tests %}
                            <div class="text-center">
                                <span class="bg-emerald-100 text-emerald-700 px-6 py-2 rounded-full font-bold">Attempted</span>
                                <p class="text-xs text-slate-400 mt-2">Check results in dashboard</p>
                            </div>
                        {% else %}
                            <a href="/student/take-test/{{ test.id }}" class="bg-red-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-red-700 shadow-lg transition">
                                Start Test
                            </a>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="text-center py-20 bg-white rounded-2xl border-2 border-dashed">
                    <p class="text-slate-400">No tests scheduled for your class yet.</p>
                </div>
            {% endif %}
        </div>
    </main>
</div>
{% endblock %}